<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>502: kdev Too many Backends</title>
        <style>
            pre {
                background: lightgrey;
                padding: 20px;
                font-size: 16px;
            }
        </style>
    </head>
    <script type="text/javascript">
          function loadDomain() {
            var display_domain = document.getElementById("display-domain");
            display_domain.innerHTML = document.domain;
            var yaml = document.getElementById("example-yaml-fix");
            yaml.innerHTML = "web:\n  environments:\n    VIRTUAL_HOST: "+document.domain;
          }
        </script>
    </head>
    <body onload="javascript:loadDomain();">
    <h1> The requested domain is used in multiple containers :( </h1>
    <p> For now <b>kdev</b> only supports one domain per backend.</p>
    <h2> How do I fix this? </h2>
    <ol>
        <li>Check your <b>docker-compose.yml</b> and change VIRTUAL_HOST: <b id="display-domain"></b> to something else.</li>
        <li>
            <p>Alternatively check other projects which are using the same domain:</p>
            <pre id="example-yaml-fix">
    web:
        environment:
            VIRTUAL_HOST: example.test
            </pre>
        </li>
        <li>
            <p>To update your configs you need to reload your containers and services by running:</p>
            <pre id="example-yaml-fix">$ kdev reload<br>$ kdev service reload</pre>
        </li>
    </ol>
    <p>If this doesn't help look into the <a href="https://alexsancho.github.io/kdev/troubleshooting/faq/">troubleshooting guide ( in Github Pages )</a>.</p>
    </body>
</html>
